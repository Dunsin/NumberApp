<!--
  Generated template for the ChatViewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color = "primary">
    <ion-title> {{username}} </ion-title>
  </ion-navbar>

</ion-header>


<!--<ion-content padding class="chat-view" id="chat-view" fixed scrollDownOnLoad="true" ionScrollEnd="hideKeybaord()">
	<div class="messages"> 
		<div class="message" *ngFor="let chat of chats | async" [ngClass]="{'me': uid === chat.from}"> 
			<span *ngIf="chat.message">{{chat.message}}</span> 
		</div>
	</div>
</ion-content>-->

<ion-content fixed scrollDownOnLoad="true" (tap)="contentMouseDown($event)" ionScrollEnd="hideKeybaord()">
<ion-list no-lines>
		<ion-item *ngFor="let chat of chats|async">
			<chat-bubble [message]="chat"></chat-bubble>
		</ion-item>
</ion-list>
</ion-content>

<!--<ion-footer>
	<ion-toolbar>
		<ion-row>
			<ion-col width-10>
				<ion-spinner *ngIf="!(chats)"></ion-spinner>
			</ion-col>
			
			<ion-col width-70 [hidden]="!chats">
				<ion-input type="text"  placeholder="Enter Message" [(ngModel)]="message"> 
				</ion-input>
			</ion-col>
			
			 <ion-col width-20 [hidden]="!chats">
				<button full (click)="sendMessage()"><ion-icon name="send"></ion-icon> 
				</button>
			 </ion-col>
		</ion-row>
	</ion-toolbar>
</ion-footer>-->

<ion-footer (touchstart)="footerTouchStart($event)">
	<ion-toolbar>

	<ion-buttons left>
			<button class="add-image-button" item-right (touchstart)="sendImage()">
				 <ion-icon class="add-image-icon" name="images"></ion-icon>
	        </button>
		</ion-buttons>

		<textarea spellcheck="true" autoComplete="true" autocorrect="true" (ngModelChange)="textAreaChange()" rows="1" fz-elastic
			class="chat-input" [(ngModel)]="message" placeholder="Write a message..." (keyup.enter)="sendMessage()">
		</textarea>

		<ion-buttons right>
			<button [disabled]="!message" class="send-button" item-right id="send-button" (click)="sendMessage()" (touchstart)="sendMessage()">
				 <ion-icon class="send-icon" name="send"></ion-icon>
	        </button>
		</ion-buttons>

	</ion-toolbar>
</ion-footer>
